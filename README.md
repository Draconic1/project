# Admin Panel Frontend

## Архитектура [FSD](https://feature-sliced.design/ru/docs/get-started/overview)

-   **app** - самый главный слой, содержит App.tsx, глобальные провайдеры, стили
-   **pages** - слой со страницами, максимально тонкий, минимум логики
-   **layouts** - слой для лейаута, будет всего один - для авторизованных пользователей
-   **widgets** - переиспользуемые самостоятельные компоненты, например, Header, модальное окно, используемое в нескольких местах
-   **features** - самостоятельные компоненты, не переиспользуемые, например ChipsTable, используется только на одной странице, AddChip (кнопка с модальным окном)
-   **entities** - слой сущностей, например, сущность чипов, пользователя, содержит базовый ui для этой сущности, slice, типы, selectors, asyncThunks
-   **shared** - общий слой, самый нижний, содержит базовый ui, например, кастомная кнопка, константы, общие типы, кастомные хуки

Импорты могут производиться только сверху вниз, например, слой **entities** не может использовать **features**, только **shared**.

Исключение - типы из redux-toolkit'a, так как **store** лежит в главном слое - **app**.

## Правило именования файлов

-   Component file, Type file - **PascalCase**
-   Все остальное - **camelCase**

## Public API

Каждый слой состоит из слайсов, например, **Header**, **LoginPage** и так далее. На уровне каждого слоя в каждой папке должен быть index.ts, который экспортирует на уровень выше файлы.

Из entities/слайс/model/services экспортируем все, включая типы, чтобы внутри модели мы могли переиспользовать созданные интерфейсы, но на слой выше (entities/слайс) мы экспортируем только если это используется.

То есть принцип такой, если что-то используется на уровне выше, либо где-то рядом (например, типы из services используются в types/UserSchema.ts), значит мы должны добавить это в public api. Финальный public api (например, entities/user) должен содержать только то, что используется на вышестоящих слоях, аналогично для всех других слоев.

## Работа с API

Все запросы (сервисы) должны лежать в entities и экспортироваться оттуда.
